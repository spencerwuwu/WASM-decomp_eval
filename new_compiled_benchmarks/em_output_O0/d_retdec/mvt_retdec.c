//
// This file was generated by the Retargetable Decompiler
// Website: https://retdec.com
//

#include <stdbool.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// ---------------- Integer Types Definitions -----------------

typedef int64_t int128_t;

// ----------------- Float Types Definitions ------------------

typedef double float64_t;

// ------------------- Function Prototypes --------------------

int64_t fprintf(int64_t a1, char * a2, int64_t a3, int64_t a4, int128_t a5);
int64_t free(float64_t (*a1)[1]);
void init_array(uint32_t n, float64_t * x1, float64_t * x2, float64_t * y_1, float64_t * y_2, float64_t (*A)[1]);
int64_t kernel_mvt(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6);
int64_t polybench_alloc_data(int64_t a1, int64_t a2);
void print_array(uint32_t n, float64_t * x1, float64_t * x2);
int64_t strcmp(int64_t a1, int64_t * a2, float64_t * a3, float64_t * a4, int64_t a5, float64_t (*a6)[1]);
int32_t submain(int32_t argc, char ** argv);

// --------------------- Global Variables ---------------------

bool g1 = false; // 0x2a
int64_t g2 = 0x4e494745423d3d00; // 0x539

// ------------------------ Functions -------------------------

// Address range: 0x0 - 0x13f
int64_t kernel_mvt(int64_t a1, int64_t a2, int64_t a3, int64_t a4, int64_t a5, int64_t a6) {
    // 0x0
    if ((int32_t)a1 <= 0) {
        // 0x13d
        return 0;
    }
    int64_t result = a1 & 0xffffffff;
    int64_t v1 = 0;
    int64_t * v2 = (int64_t *)(8 * v1 + a2); // 0x49
    int64_t v3 = 0;
    int128_t v4 = __asm_movsd_1(*v2); // 0x49
    int64_t v5 = 8 * v3; // 0x64
    int128_t v6 = __asm_movsd_1(*(int64_t *)(0x3e80 * v1 + a6 + v5)); // 0x64
    int64_t v7 = __asm_movsd(__asm_addsd(__asm_mulsd(v6, __asm_movsd_1(*(int64_t *)(v5 + a4))), v4)); // 0x86
    *v2 = v7;
    v3++;
    while (v3 != result) {
        // 0x41
        v4 = __asm_movsd_1(v7);
        v5 = 8 * v3;
        v6 = __asm_movsd_1(*(int64_t *)(0x3e80 * v1 + a6 + v5));
        v7 = __asm_movsd(__asm_addsd(__asm_mulsd(v6, __asm_movsd_1(*(int64_t *)(v5 + a4))), v4));
        *v2 = v7;
        v3++;
    }
    // 0x9e
    v1++;
    int64_t v8 = 0; // 0x28
    while (v1 != result) {
        // 0x41
        v2 = (int64_t *)(8 * v1 + a2);
        v3 = 0;
        v4 = __asm_movsd_1(*v2);
        v5 = 8 * v3;
        v6 = __asm_movsd_1(*(int64_t *)(0x3e80 * v1 + a6 + v5));
        v7 = __asm_movsd(__asm_addsd(__asm_mulsd(v6, __asm_movsd_1(*(int64_t *)(v5 + a4))), v4));
        *v2 = v7;
        v3++;
        while (v3 != result) {
            // 0x41
            v4 = __asm_movsd_1(v7);
            v5 = 8 * v3;
            v6 = __asm_movsd_1(*(int64_t *)(0x3e80 * v1 + a6 + v5));
            v7 = __asm_movsd(__asm_addsd(__asm_mulsd(v6, __asm_movsd_1(*(int64_t *)(v5 + a4))), v4));
            *v2 = v7;
            v3++;
        }
        // 0x9e
        v1++;
        v8 = 0;
    }
    int64_t v9 = 8 * v8; // 0xda
    int64_t * v10 = (int64_t *)(v9 + a3); // 0xda
    int64_t v11 = 0;
    int128_t v12 = __asm_movsd_1(*v10); // 0xda
    int128_t v13 = __asm_movsd_1(*(int64_t *)(v9 + a6 + 0x3e80 * v11)); // 0xf5
    int128_t v14 = __asm_mulsd(v13, __asm_movsd_1(*(int64_t *)(8 * v11 + a5))); // 0x107
    int64_t v15 = __asm_movsd(__asm_addsd(v14, v12)); // 0x117
    *v10 = v15;
    v11++;
    while (v11 != result) {
        // 0xd2
        v12 = __asm_movsd_1(v15);
        v13 = __asm_movsd_1(*(int64_t *)(v9 + a6 + 0x3e80 * v11));
        v14 = __asm_mulsd(v13, __asm_movsd_1(*(int64_t *)(8 * v11 + a5)));
        v15 = __asm_movsd(__asm_addsd(v14, v12));
        *v10 = v15;
        v11++;
    }
    int64_t v16 = v8 + 1;
    v8 = v16;
    while (v16 != result) {
        // 0xd2
        v9 = 8 * v8;
        v10 = (int64_t *)(v9 + a3);
        v11 = 0;
        v12 = __asm_movsd_1(*v10);
        v13 = __asm_movsd_1(*(int64_t *)(v9 + a6 + 0x3e80 * v11));
        v14 = __asm_mulsd(v13, __asm_movsd_1(*(int64_t *)(8 * v11 + a5)));
        v15 = __asm_movsd(__asm_addsd(v14, v12));
        *v10 = v15;
        v11++;
        while (v11 != result) {
            // 0xd2
            v12 = __asm_movsd_1(v15);
            v13 = __asm_movsd_1(*(int64_t *)(v9 + a6 + 0x3e80 * v11));
            v14 = __asm_mulsd(v13, __asm_movsd_1(*(int64_t *)(8 * v11 + a5)));
            v15 = __asm_movsd(__asm_addsd(v14, v12));
            *v10 = v15;
            v11++;
        }
        // 0x12f
        v16 = v8 + 1;
        v8 = v16;
    }
    // 0x13d
    return result;
}

// Address range: 0x140 - 0x258
// Line range:    99 - 146
int32_t submain(int32_t argc, char ** argv) {
    int64_t v1 = polybench_alloc_data(0x3d0900, 8); // 0x160
    int64_t str = polybench_alloc_data(2000, 8); // 0x173
    float64_t (*v2)[1] = (float64_t (*)[1])str; // 0x178
    int64_t v3 = polybench_alloc_data(2000, 8); // 0x186
    float64_t (*v4)[1] = (float64_t (*)[1])v3; // 0x18b
    int64_t v5 = polybench_alloc_data(2000, 8); // 0x199
    float64_t (*v6)[1] = (float64_t (*)[1])v5; // 0x19e
    int64_t v7 = polybench_alloc_data(2000, 8); // 0x1ac
    init_array(2000, v2, v4, v6, (float64_t *)v7, &((float64_t (*)[1][1])v1)[0]);
    if (argc > (int32_t)&g1) {
        int64_t strcmp_rc = strcmp(str, &g2, (float64_t *)v3, (float64_t *)v5, v7, (float64_t (*)[1])v1); // 0x205
        if ((int32_t)strcmp_rc == 0) {
            // 0x213
            print_array(2000, v2, v4);
        }
    }
    // 0x223
    free(&((float64_t (*)[1][1])v1)[0]);
    free(v2);
    free(v4);
    free(v6);
    free((float64_t (*)[1])v7);
    return 0;
}

// Address range: 0x260 - 0x384
// Line range:    26 - 44
void init_array(uint32_t n, float64_t * x1, float64_t * x2, float64_t * y_1, float64_t * y_2, float64_t (*A)[1]) {
    if (n <= 0) {
        // 0x382
        return;
    }
    int64_t v1 = n;
    int64_t v2 = 0x100000000 * (int64_t)A >> 32;
    int64_t v3 = 0;
    int32_t v4 = v3;
    int128_t v5 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v4 >> 31) | v3) % v1)); // 0x295
    int64_t v6 = __asm_movsd(__asm_divsd(v5, __asm_cvtsi2sd(n))); // 0x2aa
    int64_t v7 = 8 * v3; // 0x2aa
    *(int64_t *)(v7 + (int64_t)x1) = v6;
    int64_t v8 = v3 + 1;
    int128_t v9 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v8 >> 31) | v8) % v1)); // 0x2b9
    *(int64_t *)(v7 + (int64_t)x2) = __asm_movsd(__asm_divsd(v9, __asm_cvtsi2sd(n)));
    int64_t v10 = v3 + 3;
    int128_t v11 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v10 >> 31) | v10) % v1)); // 0x2dd
    *(int64_t *)(v7 + (int64_t)y_1) = __asm_movsd(__asm_divsd(v11, __asm_cvtsi2sd(n)));
    int64_t v12 = v3 + 4;
    int128_t v13 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v12 >> 31) | v12) % v1)); // 0x301
    *(int64_t *)(v7 + (int64_t)y_2) = __asm_movsd(__asm_divsd(v13, __asm_cvtsi2sd(n)));
    int64_t v14 = 0;
    int32_t v15 = (int32_t)v14 * v4; // 0x331
    int128_t v16 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v15 >> 31) | (int64_t)v15) % v1)); // 0x339
    int64_t v17 = __asm_movsd(__asm_divsd(v16, __asm_cvtsi2sd(n))); // 0x35c
    *(int64_t *)(0x3e80 * v3 + v2 + 8 * v14) = v17;
    v14++;
    while (v14 != v1) {
        // 0x32e
        v15 = (int32_t)v14 * v4;
        v16 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v15 >> 31) | (int64_t)v15) % v1));
        v17 = __asm_movsd(__asm_divsd(v16, __asm_cvtsi2sd(n)));
        *(int64_t *)(0x3e80 * v3 + v2 + 8 * v14) = v17;
        v14++;
    }
    while (v8 != v1) {
        // 0x32e
        v3 = v8;
        v4 = v3;
        v5 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v4 >> 31) | v3) % v1));
        v6 = __asm_movsd(__asm_divsd(v5, __asm_cvtsi2sd(n)));
        v7 = 8 * v3;
        *(int64_t *)(v7 + (int64_t)x1) = v6;
        v8 = v3 + 1;
        v9 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v8 >> 31) | v8) % v1));
        *(int64_t *)(v7 + (int64_t)x2) = __asm_movsd(__asm_divsd(v9, __asm_cvtsi2sd(n)));
        v10 = v3 + 3;
        v11 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v10 >> 31) | v10) % v1));
        *(int64_t *)(v7 + (int64_t)y_1) = __asm_movsd(__asm_divsd(v11, __asm_cvtsi2sd(n)));
        v12 = v3 + 4;
        v13 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)((int32_t)v12 >> 31) | v12) % v1));
        *(int64_t *)(v7 + (int64_t)y_2) = __asm_movsd(__asm_divsd(v13, __asm_cvtsi2sd(n)));
        v14 = 0;
        v15 = (int32_t)v14 * v4;
        v16 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v15 >> 31) | (int64_t)v15) % v1));
        v17 = __asm_movsd(__asm_divsd(v16, __asm_cvtsi2sd(n)));
        *(int64_t *)(0x3e80 * v3 + v2 + 8 * v14) = v17;
        v14++;
        while (v14 != v1) {
            // 0x32e
            v15 = (int32_t)v14 * v4;
            v16 = __asm_cvtsi2sd((int32_t)((0x100000000 * (int64_t)(v15 >> 31) | (int64_t)v15) % v1));
            v17 = __asm_movsd(__asm_divsd(v16, __asm_cvtsi2sd(n)));
            *(int64_t *)(0x3e80 * v3 + v2 + 8 * v14) = v17;
            v14++;
        }
    }
}

// Address range: 0x390 - 0x539
// Line range:    50 - 72
void print_array(uint32_t n, float64_t * x1, float64_t * x2) {
    int64_t v1 = (int64_t)x2;
    int64_t v2; // 0x390
    int128_t v3; // 0x390
    fprintf(*(int64_t *)*(int64_t *)938, "==BEGIN DUMP_ARRAYS==\n", v1, v2, v3);
    int64_t stream = *(int64_t *)*(int64_t *)962; // 0x3c2
    fprintf(stream, "begin dump: %s", (int64_t)"x1", v2, v3);
    int64_t v4; // 0x390
    int128_t v5; // 0x390
    if (n > 0) {
        int64_t v6 = 0;
        int64_t v7 = (0x100000000 * (int64_t)((int32_t)v6 >> 31) | v6) % 20; // 0x3f6
        int64_t v8 = v7 & 0xffffffff; // 0x3f6
        int128_t v9; // 0x390
        if ((int32_t)v7 == 0) {
            // 0x401
            fprintf(*(int64_t *)*(int64_t *)1032, "\n", v8, 20, v9);
        }
        int128_t v10 = __asm_movsd_1(*(int64_t *)(8 * v6 + (int64_t)x1)); // 0x42b
        fprintf(*(int64_t *)*(int64_t *)1056, "%0.2lf ", v8, v6, v10);
        int64_t v11 = v6 + 1;
        v9 = v10;
        v5 = v10;
        v4 = v6;
        while (v11 != (int64_t)n) {
            // 0x3ed
            v6 = v11;
            v7 = (0x100000000 * (int64_t)((int32_t)v6 >> 31) | v6) % 20;
            v8 = v7 & 0xffffffff;
            if ((int32_t)v7 == 0) {
                // 0x401
                fprintf(*(int64_t *)*(int64_t *)1032, "\n", v8, 20, v9);
            }
            // 0x419
            v10 = __asm_movsd_1(*(int64_t *)(8 * v6 + (int64_t)x1));
            fprintf(*(int64_t *)*(int64_t *)1056, "%0.2lf ", v8, v6, v10);
            v11 = v6 + 1;
            v9 = v10;
            v5 = v10;
            v4 = v6;
        }
    }
    int64_t stream2 = *(int64_t *)*(int64_t *)1107; // 0x453
    fprintf(stream2, "\nend   dump: %s\n", (int64_t)"x1", v4, v5);
    int64_t stream3 = *(int64_t *)*(int64_t *)1138; // 0x472
    fprintf(stream3, "begin dump: %s", (int64_t)"x2", v4, v5);
    int128_t v12 = v5; // 0x497
    int64_t v13 = v4; // 0x497
    if (n > 0) {
        int64_t v14 = 0;
        int64_t v15 = (0x100000000 * (int64_t)((int32_t)v14 >> 31) | v14) % 20; // 0x4a6
        int64_t v16 = v15 & 0xffffffff; // 0x4a6
        if ((int32_t)v15 == 0) {
            // 0x4b1
            fprintf(*(int64_t *)*(int64_t *)1208, "\n", v16, 20, v5);
        }
        int128_t v17 = __asm_movsd_1(*(int64_t *)(8 * v14 + v1)); // 0x4db
        fprintf(*(int64_t *)*(int64_t *)1232, "%0.2lf ", v16, v14, v17);
        int64_t v18 = v14 + 1;
        int128_t v19 = v17; // 0x497
        v12 = v17;
        v13 = v14;
        while (v18 != (int64_t)n) {
            // 0x49d
            v14 = v18;
            v15 = (0x100000000 * (int64_t)((int32_t)v14 >> 31) | v14) % 20;
            v16 = v15 & 0xffffffff;
            if ((int32_t)v15 == 0) {
                // 0x4b1
                fprintf(*(int64_t *)*(int64_t *)1208, "\n", v16, 20, v19);
            }
            // 0x4c9
            v17 = __asm_movsd_1(*(int64_t *)(8 * v14 + v1));
            fprintf(*(int64_t *)*(int64_t *)1232, "%0.2lf ", v16, v14, v17);
            v18 = v14 + 1;
            v19 = v17;
            v12 = v17;
            v13 = v14;
        }
    }
    int64_t stream4 = *(int64_t *)*(int64_t *)1283; // 0x503
    fprintf(stream4, "\nend   dump: %s\n", (int64_t)"x2", v13, v12);
    int64_t stream5 = *(int64_t *)*(int64_t *)1314; // 0x522
    fprintf(stream5, "==END   DUMP_ARRAYS==\n", (int64_t)"x2", v13, v12);
}

// --------------------- Meta-Information ---------------------

// Detected compiler/packer: llvm (17.0.0)
// Detected functions: 4

